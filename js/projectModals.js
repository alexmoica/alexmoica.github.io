$("img[hasModal]").addClass("img-enlargable").click(function(){$(".overlay").show();var o,a=$(this).attr("src");function e(){o.remove(),$("body").off("keyup.modal-close")}o=$('<div class="modal-animate">').css({background:"url("+a+") no-repeat center",backgroundSize:"contain",width:"100%",height:"60%",position:"fixed",zIndex:"10",top:"20%",left:"0",cursor:"pointer"}).click(function(){$(".overlay").hide(),e(),event.stopPropagation()}).appendTo("body"),$(".overlay").click(function(){$(".overlay").hide(),e(),event.stopPropagation()}),$("body").on("keyup.modal-close",function(o){"Escape"===o.key&&($(".overlay").hide(),e(),event.stopPropagation())})});
